[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "contributing.html",
    "href": "contributing.html",
    "title": "Contributing",
    "section": "",
    "text": "Describe how people can contribute to this project"
  },
  {
    "objectID": "license.html",
    "href": "license.html",
    "title": "License",
    "section": "",
    "text": "put the terms of the license here"
  },
  {
    "objectID": "license.html#license-type",
    "href": "license.html#license-type",
    "title": "License",
    "section": "",
    "text": "put the terms of the license here"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Quarto Website Template",
    "section": "",
    "text": "#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 400\n# app.R\nlibrary(shiny)\nlibrary(readxl)\nlibrary(bslib)\n\nquizUI &lt;- function(id) {\n  ns &lt;- NS(id)\n  tagList(\n    uiOutput(ns(\"quiz_page\")),\n    br(),\n    fluidRow(\n      column(4, actionButton(ns(\"prev_btn\"), \"Previous\", class = \"btn btn-secondary\")),\n      column(4, align = \"center\", actionButton(ns(\"submit\"), \"Submit\", class = \"btn btn-primary\")),\n      column(4, align = \"right\", actionButton(ns(\"next_btn\"), \"Next\", class = \"btn btn-secondary\"))\n    ),\n    tags$style(HTML(\"\n      .btn { margin-top: 10px; width: 100px; }\n      .shiny-modal .modal-content { border-radius: 10px; }\n      .modal-header { background-color: #f0f8ff; }\n    \"))\n  )\n}\n\nquizServer &lt;- function(id, questions_df) {\n  moduleServer(id, function(input, output, session) {\n    ns &lt;- session$ns\n    \n    shuffled_questions &lt;- reactiveVal(sample(1:nrow(questions_df)))\n    current_index &lt;- reactiveVal(0)\n    user_answers &lt;- reactiveValues()\n    \n    observeEvent(input$next_btn, {\n      if (current_index() &lt; nrow(questions_df)) {\n        current_index(current_index() + 1)\n      }\n    })\n    \n    observeEvent(input$prev_btn, {\n      if (current_index() &gt; 0) {\n        current_index(current_index() - 1)\n      }\n    })\n    \n    output$quiz_page &lt;- renderUI({\n      idx &lt;- current_index()\n      \n      if (idx == 0) {\n        return(\n          tagList(\n            h2(\"Welcome to the Light and Health Quiz!\"),\n            p(\"This quiz tests your knowledge about the nonvisual effects of ocular light.\"),\n            p(\"Use the 'Previous' and 'Next' buttons to navigate.\"),\n            p(\"Choose an answer and click 'Submit' to check.\"),\n            p(\"Good luck!\")\n          )\n        )\n      }\n      \n      if (idx &gt; length(shuffled_questions())) {\n        return(\n          tagList(\n            h2(\"Quiz Complete!\"),\n            p(\"Well done! You've answered all the questions.\"),\n            icon(\"trophy\", class = \"fa-3x text-success\")\n          )\n        )\n      }\n      \n      qn_idx &lt;- shuffled_questions()[idx]\n      question &lt;- questions_df[qn_idx, ]\n      input_id &lt;- paste0(\"q\", qn_idx)\n      correct_ans &lt;- unlist(strsplit(question$correct, \";\"))\n      options &lt;- unlist(strsplit(question$options, \";\"))\n      is_multi &lt;- length(correct_ans) &gt; 1\n      \n      ans_ui &lt;- if (is_multi) {\n        checkboxGroupInput(ns(input_id), label = question$question, choices = options, selected = user_answers[[input_id]])\n      } else {\n        radioButtons(ns(input_id), label = question$question, choices = options, selected = user_answers[[input_id]])\n      }\n      \n      tagList(ans_ui)\n    })\n    \n    observeEvent(input$submit, {\n      idx &lt;- current_index()\n      if (idx == 0 || idx &gt; length(shuffled_questions())) return()\n      \n      qn_idx &lt;- shuffled_questions()[idx]\n      input_id &lt;- paste0(\"q\", qn_idx)\n      user_input &lt;- input[[input_id]]\n      user_answers[[input_id]] &lt;- user_input\n      \n      correct_ans &lt;- unlist(strsplit(questions_df[qn_idx, ]$correct, \";\"))\n      feedback_right &lt;- questions_df[qn_idx, ]$feedback_correct\n      feedback_wrong &lt;- questions_df[qn_idx, ]$feedback_wrong\n      \n      is_correct &lt;- setequal(sort(user_input), sort(correct_ans))\n      title &lt;- if (is_correct) \"Correct!\" else \"Try Again!\"\n      msg &lt;- if (is_correct) feedback_right else feedback_wrong\n      \n      showModal(modalDialog(\n        title = span(icon(if (is_correct) \"check-circle\" else \"times-circle\"), \" \", title),\n        p(msg),\n        footer = tagList(\n          actionButton(ns(\"retry\"), \"Retry\", class = \"btn btn-warning\"),\n          actionButton(ns(\"continue\"), \"Continue\", class = \"btn btn-success\")\n        ),\n        easyClose = FALSE\n      ))\n    })\n    \n    observeEvent(input$retry, {\n      removeModal()\n      qn_idx &lt;- shuffled_questions()[current_index()]\n      input_id &lt;- paste0(\"q\", qn_idx)\n      user_answers[[input_id]] &lt;- NULL\n    })\n    \n    observeEvent(input$continue, {\n      removeModal()\n      if (current_index() &lt; nrow(questions_df)) {\n        current_index(current_index() + 1)\n      }\n    })\n  })\n}\n\nquestions_df &lt;-\n  structure(list(question = c(\"What hormone is primarily suppressed by light at night?\",\n\"Which color of light most strongly affects circadian rhythms?\",\n\"What organ detects light for circadian regulation?\", \"Can light exposure during the evening delay sleep?\",\n\"Which cells in the eye are key for nonvisual light detection?\",\n\"Which of the following are nonvisual effects of light?\", \"Which wavelengths are most effective for melatonin suppression?\"\n), options = c(\"Melatonin;Cortisol;Serotonin\", \"Blue;Green;Red\",\n\"Brain;Eye;Skin\", \"Yes;No\", \"Rods;Cones;ipRGCs\", \"Alertness boost;Visual acuity;Circadian entrainment;Mood improvement\",\n\"Blue;Green;Red;UV\"), correct = c(\"Melatonin\", \"Blue\", \"Eye\",\n\"Yes\", \"ipRGCs\", \"Alertness boost;Circadian entrainment;Mood improvement\",\n\"Blue;Green\"), feedback_correct = c(\"Great job! Light at night inhibits melatonin.\",\n\"Right! Blue light is most potent for the circadian system.\",\n\"Yes! The eye detects light for circadian timing.\", \"Correct! Evening light can shift your sleep later.\",\n\"Yes! ipRGCs regulate the circadian system.\", \"Well done! Light affects circadian rhythms, mood, and alertness.\",\n\"Correct! Blue and green light most strongly suppress melatonin.\"\n), feedback_wrong = c(\"Oops! Light mostly suppresses melatonin.\",\n\"Not quite. Blue light has the strongest circadian effect.\",\n\"Nope. It's the eye that senses light, not the brain directly.\",\n\"Incorrect. Light at night delays the sleep cycle.\", \"Nope. ipRGCs are the key players here.\",\n\"Only some of those are nonvisual effects. Try again!\", \"That's not quite right. Focus on blue and green wavelengths.\"\n)), class = c(\"tbl_df\", \"tbl\", \"data.frame\"), row.names = c(NA,\n-7L))\n\n# questions_df &lt;- read_excel(\"www/quiz_questions.xlsx\", col_types = rep(\"text\", 5))\n# colnames(questions_df) &lt;- c(\"question\", \"options\", \"correct\", \"feedback_correct\", \"feedback_wrong\")\n\nui &lt;- fluidPage(\n  theme = bs_theme(bootswatch = \"minty\"),\n  titlePanel(\"Light and Human Biology Quiz\"),\n  quizUI(\"quiz1\")\n)\n\nserver &lt;- function(input, output, session) {\n  quizServer(\"quiz1\", questions_df)\n}\n\nshinyApp(ui, server)"
  },
  {
    "objectID": "index.html#interactive-histogram",
    "href": "index.html#interactive-histogram",
    "title": "Quarto Website Template",
    "section": "",
    "text": "#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 800\n# app.R\nlibrary(shiny)\nlibrary(readxl)\nlibrary(bslib)\n\nquizUI &lt;- function(id) {\n  ns &lt;- NS(id)\n  tagList(\n    uiOutput(ns(\"quiz_page\")),\n    br(),\n    fluidRow(\n      column(4, actionButton(ns(\"prev_btn\"), \"Previous\", class = \"btn btn-secondary\")),\n      column(4, align = \"center\", actionButton(ns(\"submit\"), \"Submit\", class = \"btn btn-primary\")),\n      column(4, align = \"right\", actionButton(ns(\"next_btn\"), \"Next\", class = \"btn btn-secondary\"))\n    ),\n    tags$style(HTML(\"\n      .btn { margin-top: 10px; width: 100px; }\n      .shiny-modal .modal-content { border-radius: 10px; }\n      .modal-header { background-color: #f0f8ff; }\n    \"))\n  )\n}\n\nquizServer &lt;- function(id, questions_df) {\n  moduleServer(id, function(input, output, session) {\n    ns &lt;- session$ns\n    \n    shuffled_questions &lt;- reactiveVal(sample(1:nrow(questions_df)))\n    current_index &lt;- reactiveVal(0)\n    user_answers &lt;- reactiveValues()\n    \n    observeEvent(input$next_btn, {\n      if (current_index() &lt; nrow(questions_df)) {\n        current_index(current_index() + 1)\n      }\n    })\n    \n    observeEvent(input$prev_btn, {\n      if (current_index() &gt; 0) {\n        current_index(current_index() - 1)\n      }\n    })\n    \n    output$quiz_page &lt;- renderUI({\n      idx &lt;- current_index()\n      \n      if (idx == 0) {\n        return(\n          tagList(\n            h2(\"Welcome to the Light and Health Quiz!\"),\n            p(\"This quiz tests your knowledge about the nonvisual effects of ocular light.\"),\n            p(\"Use the 'Previous' and 'Next' buttons to navigate.\"),\n            p(\"Choose an answer and click 'Submit' to check.\"),\n            p(\"Good luck!\")\n          )\n        )\n      }\n      \n      if (idx &gt; length(shuffled_questions())) {\n        return(\n          tagList(\n            h2(\"Quiz Complete!\"),\n            p(\"Well done! You've answered all the questions.\"),\n            icon(\"trophy\", class = \"fa-3x text-success\")\n          )\n        )\n      }\n      \n      qn_idx &lt;- shuffled_questions()[idx]\n      question &lt;- questions_df[qn_idx, ]\n      input_id &lt;- paste0(\"q\", qn_idx)\n      correct_ans &lt;- unlist(strsplit(question$correct, \";\"))\n      options &lt;- unlist(strsplit(question$options, \";\"))\n      is_multi &lt;- length(correct_ans) &gt; 1\n      \n      ans_ui &lt;- if (is_multi) {\n        checkboxGroupInput(ns(input_id), label = question$question, choices = options, selected = user_answers[[input_id]])\n      } else {\n        radioButtons(ns(input_id), label = question$question, choices = options, selected = user_answers[[input_id]])\n      }\n      \n      tagList(ans_ui)\n    })\n    \n    observeEvent(input$submit, {\n      idx &lt;- current_index()\n      if (idx == 0 || idx &gt; length(shuffled_questions())) return()\n      \n      qn_idx &lt;- shuffled_questions()[idx]\n      input_id &lt;- paste0(\"q\", qn_idx)\n      user_input &lt;- input[[input_id]]\n      user_answers[[input_id]] &lt;- user_input\n      \n      correct_ans &lt;- unlist(strsplit(questions_df[qn_idx, ]$correct, \";\"))\n      feedback_right &lt;- questions_df[qn_idx, ]$feedback_correct\n      feedback_wrong &lt;- questions_df[qn_idx, ]$feedback_wrong\n      \n      is_correct &lt;- setequal(sort(user_input), sort(correct_ans))\n      title &lt;- if (is_correct) \"Correct!\" else \"Try Again!\"\n      msg &lt;- if (is_correct) feedback_right else feedback_wrong\n      \n      showModal(modalDialog(\n        title = span(icon(if (is_correct) \"check-circle\" else \"times-circle\"), \" \", title),\n        p(msg),\n        footer = tagList(\n          actionButton(ns(\"retry\"), \"Retry\", class = \"btn btn-warning\"),\n          actionButton(ns(\"continue\"), \"Continue\", class = \"btn btn-success\")\n        ),\n        easyClose = FALSE\n      ))\n    })\n    \n    observeEvent(input$retry, {\n      removeModal()\n      qn_idx &lt;- shuffled_questions()[current_index()]\n      input_id &lt;- paste0(\"q\", qn_idx)\n      user_answers[[input_id]] &lt;- NULL\n    })\n    \n    observeEvent(input$continue, {\n      removeModal()\n      if (current_index() &lt; nrow(questions_df)) {\n        current_index(current_index() + 1)\n      }\n    })\n  })\n}\n\nquestions_df &lt;- read_excel(\"quiz_questions.xlsx\", col_types = rep(\"text\", 5))\ncolnames(questions_df) &lt;- c(\"question\", \"options\", \"correct\", \"feedback_correct\", \"feedback_wrong\")\n\nui &lt;- fluidPage(\n  theme = bs_theme(bootswatch = \"minty\"),\n  titlePanel(\"Light and Human Biology Quiz\"),\n  quizUI(\"quiz1\")\n)\n\nserver &lt;- function(input, output, session) {\n  quizServer(\"quiz1\", questions_df)\n}\n\nshinyApp(ui, server)"
  },
  {
    "objectID": "index.html#quiz-on-the-non-visual-effect-of-light",
    "href": "index.html#quiz-on-the-non-visual-effect-of-light",
    "title": "Quarto Website Template",
    "section": "",
    "text": "#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 400\n# app.R\nlibrary(shiny)\nlibrary(readxl)\nlibrary(bslib)\n\nquizUI &lt;- function(id) {\n  ns &lt;- NS(id)\n  tagList(\n    uiOutput(ns(\"quiz_page\")),\n    br(),\n    fluidRow(\n      column(4, actionButton(ns(\"prev_btn\"), \"Previous\", class = \"btn btn-secondary\")),\n      column(4, align = \"center\", actionButton(ns(\"submit\"), \"Submit\", class = \"btn btn-primary\")),\n      column(4, align = \"right\", actionButton(ns(\"next_btn\"), \"Next\", class = \"btn btn-secondary\"))\n    ),\n    tags$style(HTML(\"\n      .btn { margin-top: 10px; width: 100px; }\n      .shiny-modal .modal-content { border-radius: 10px; }\n      .modal-header { background-color: #f0f8ff; }\n    \"))\n  )\n}\n\nquizServer &lt;- function(id, questions_df) {\n  moduleServer(id, function(input, output, session) {\n    ns &lt;- session$ns\n    \n    shuffled_questions &lt;- reactiveVal(sample(1:nrow(questions_df)))\n    current_index &lt;- reactiveVal(0)\n    user_answers &lt;- reactiveValues()\n    \n    observeEvent(input$next_btn, {\n      if (current_index() &lt; nrow(questions_df)) {\n        current_index(current_index() + 1)\n      }\n    })\n    \n    observeEvent(input$prev_btn, {\n      if (current_index() &gt; 0) {\n        current_index(current_index() - 1)\n      }\n    })\n    \n    output$quiz_page &lt;- renderUI({\n      idx &lt;- current_index()\n      \n      if (idx == 0) {\n        return(\n          tagList(\n            h2(\"Welcome to the Light and Health Quiz!\"),\n            p(\"This quiz tests your knowledge about the nonvisual effects of ocular light.\"),\n            p(\"Use the 'Previous' and 'Next' buttons to navigate.\"),\n            p(\"Choose an answer and click 'Submit' to check.\"),\n            p(\"Good luck!\")\n          )\n        )\n      }\n      \n      if (idx &gt; length(shuffled_questions())) {\n        return(\n          tagList(\n            h2(\"Quiz Complete!\"),\n            p(\"Well done! You've answered all the questions.\"),\n            icon(\"trophy\", class = \"fa-3x text-success\")\n          )\n        )\n      }\n      \n      qn_idx &lt;- shuffled_questions()[idx]\n      question &lt;- questions_df[qn_idx, ]\n      input_id &lt;- paste0(\"q\", qn_idx)\n      correct_ans &lt;- unlist(strsplit(question$correct, \";\"))\n      options &lt;- unlist(strsplit(question$options, \";\"))\n      is_multi &lt;- length(correct_ans) &gt; 1\n      \n      ans_ui &lt;- if (is_multi) {\n        checkboxGroupInput(ns(input_id), label = question$question, choices = options, selected = user_answers[[input_id]])\n      } else {\n        radioButtons(ns(input_id), label = question$question, choices = options, selected = user_answers[[input_id]])\n      }\n      \n      tagList(ans_ui)\n    })\n    \n    observeEvent(input$submit, {\n      idx &lt;- current_index()\n      if (idx == 0 || idx &gt; length(shuffled_questions())) return()\n      \n      qn_idx &lt;- shuffled_questions()[idx]\n      input_id &lt;- paste0(\"q\", qn_idx)\n      user_input &lt;- input[[input_id]]\n      user_answers[[input_id]] &lt;- user_input\n      \n      correct_ans &lt;- unlist(strsplit(questions_df[qn_idx, ]$correct, \";\"))\n      feedback_right &lt;- questions_df[qn_idx, ]$feedback_correct\n      feedback_wrong &lt;- questions_df[qn_idx, ]$feedback_wrong\n      \n      is_correct &lt;- setequal(sort(user_input), sort(correct_ans))\n      title &lt;- if (is_correct) \"Correct!\" else \"Try Again!\"\n      msg &lt;- if (is_correct) feedback_right else feedback_wrong\n      \n      showModal(modalDialog(\n        title = span(icon(if (is_correct) \"check-circle\" else \"times-circle\"), \" \", title),\n        p(msg),\n        footer = tagList(\n          actionButton(ns(\"retry\"), \"Retry\", class = \"btn btn-warning\"),\n          actionButton(ns(\"continue\"), \"Continue\", class = \"btn btn-success\")\n        ),\n        easyClose = FALSE\n      ))\n    })\n    \n    observeEvent(input$retry, {\n      removeModal()\n      qn_idx &lt;- shuffled_questions()[current_index()]\n      input_id &lt;- paste0(\"q\", qn_idx)\n      user_answers[[input_id]] &lt;- NULL\n    })\n    \n    observeEvent(input$continue, {\n      removeModal()\n      if (current_index() &lt; nrow(questions_df)) {\n        current_index(current_index() + 1)\n      }\n    })\n  })\n}\n\nquestions_df &lt;-\n  structure(list(question = c(\"What hormone is primarily suppressed by light at night?\",\n\"Which color of light most strongly affects circadian rhythms?\",\n\"What organ detects light for circadian regulation?\", \"Can light exposure during the evening delay sleep?\",\n\"Which cells in the eye are key for nonvisual light detection?\",\n\"Which of the following are nonvisual effects of light?\", \"Which wavelengths are most effective for melatonin suppression?\"\n), options = c(\"Melatonin;Cortisol;Serotonin\", \"Blue;Green;Red\",\n\"Brain;Eye;Skin\", \"Yes;No\", \"Rods;Cones;ipRGCs\", \"Alertness boost;Visual acuity;Circadian entrainment;Mood improvement\",\n\"Blue;Green;Red;UV\"), correct = c(\"Melatonin\", \"Blue\", \"Eye\",\n\"Yes\", \"ipRGCs\", \"Alertness boost;Circadian entrainment;Mood improvement\",\n\"Blue;Green\"), feedback_correct = c(\"Great job! Light at night inhibits melatonin.\",\n\"Right! Blue light is most potent for the circadian system.\",\n\"Yes! The eye detects light for circadian timing.\", \"Correct! Evening light can shift your sleep later.\",\n\"Yes! ipRGCs regulate the circadian system.\", \"Well done! Light affects circadian rhythms, mood, and alertness.\",\n\"Correct! Blue and green light most strongly suppress melatonin.\"\n), feedback_wrong = c(\"Oops! Light mostly suppresses melatonin.\",\n\"Not quite. Blue light has the strongest circadian effect.\",\n\"Nope. It's the eye that senses light, not the brain directly.\",\n\"Incorrect. Light at night delays the sleep cycle.\", \"Nope. ipRGCs are the key players here.\",\n\"Only some of those are nonvisual effects. Try again!\", \"That's not quite right. Focus on blue and green wavelengths.\"\n)), class = c(\"tbl_df\", \"tbl\", \"data.frame\"), row.names = c(NA,\n-7L))\n\n# questions_df &lt;- read_excel(\"www/quiz_questions.xlsx\", col_types = rep(\"text\", 5))\n# colnames(questions_df) &lt;- c(\"question\", \"options\", \"correct\", \"feedback_correct\", \"feedback_wrong\")\n\nui &lt;- fluidPage(\n  theme = bs_theme(bootswatch = \"minty\"),\n  titlePanel(\"Light and Human Biology Quiz\"),\n  quizUI(\"quiz1\")\n)\n\nserver &lt;- function(input, output, session) {\n  quizServer(\"quiz1\", questions_df)\n}\n\nshinyApp(ui, server)"
  },
  {
    "objectID": "Index2.html",
    "href": "Index2.html",
    "title": "Quarto Website Template",
    "section": "",
    "text": "#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 400\n# app.R\nlibrary(shiny)\nlibrary(readxl)\nlibrary(bslib)\n\nshinylive::\n\nquizUI &lt;- function(id) {\n  ns &lt;- NS(id)\n  tagList(\n    uiOutput(ns(\"quiz_page\")),\n    br(),\n    fluidRow(\n      column(4, actionButton(ns(\"prev_btn\"), \"Previous\", class = \"btn btn-secondary\")),\n      column(4, align = \"center\", actionButton(ns(\"submit\"), \"Submit\", class = \"btn btn-primary\")),\n      column(4, align = \"right\", actionButton(ns(\"next_btn\"), \"Next\", class = \"btn btn-secondary\"))\n    ),\n    tags$style(HTML(\"\n      .btn { margin-top: 10px; width: 100px; }\n      .shiny-modal .modal-content { border-radius: 10px; }\n      .modal-header { background-color: #f0f8ff; }\n    \"))\n  )\n}\n\nquizServer &lt;- function(id, questions_df) {\n  moduleServer(id, function(input, output, session) {\n    ns &lt;- session$ns\n    \n    shuffled_questions &lt;- reactiveVal(sample(1:nrow(questions_df)))\n    current_index &lt;- reactiveVal(0)\n    user_answers &lt;- reactiveValues()\n    \n    observeEvent(input$next_btn, {\n      if (current_index() &lt; nrow(questions_df)) {\n        current_index(current_index() + 1)\n      }\n    })\n    \n    observeEvent(input$prev_btn, {\n      if (current_index() &gt; 0) {\n        current_index(current_index() - 1)\n      }\n    })\n    \n    output$quiz_page &lt;- renderUI({\n      idx &lt;- current_index()\n      \n      if (idx == 0) {\n        return(\n          tagList(\n            h2(\"Welcome to the Light and Health Quiz!\"),\n            p(\"This quiz tests your knowledge about the nonvisual effects of ocular light.\"),\n            p(\"Use the 'Previous' and 'Next' buttons to navigate.\"),\n            p(\"Choose an answer and click 'Submit' to check.\"),\n            p(\"Good luck!\")\n          )\n        )\n      }\n      \n      if (idx &gt; length(shuffled_questions())) {\n        return(\n          tagList(\n            h2(\"Quiz Complete!\"),\n            p(\"Well done! You've answered all the questions.\"),\n            icon(\"trophy\", class = \"fa-3x text-success\")\n          )\n        )\n      }\n      \n      qn_idx &lt;- shuffled_questions()[idx]\n      question &lt;- questions_df[qn_idx, ]\n      input_id &lt;- paste0(\"q\", qn_idx)\n      correct_ans &lt;- unlist(strsplit(question$correct, \";\"))\n      options &lt;- unlist(strsplit(question$options, \";\"))\n      is_multi &lt;- length(correct_ans) &gt; 1\n      \n      ans_ui &lt;- if (is_multi) {\n        checkboxGroupInput(ns(input_id), label = question$question, choices = options, selected = user_answers[[input_id]])\n      } else {\n        radioButtons(ns(input_id), label = question$question, choices = options, selected = user_answers[[input_id]])\n      }\n      \n      tagList(ans_ui)\n    })\n    \n    observeEvent(input$submit, {\n      idx &lt;- current_index()\n      if (idx == 0 || idx &gt; length(shuffled_questions())) return()\n      \n      qn_idx &lt;- shuffled_questions()[idx]\n      input_id &lt;- paste0(\"q\", qn_idx)\n      user_input &lt;- input[[input_id]]\n      user_answers[[input_id]] &lt;- user_input\n      \n      correct_ans &lt;- unlist(strsplit(questions_df[qn_idx, ]$correct, \";\"))\n      feedback_right &lt;- questions_df[qn_idx, ]$feedback_correct\n      feedback_wrong &lt;- questions_df[qn_idx, ]$feedback_wrong\n      \n      is_correct &lt;- setequal(sort(user_input), sort(correct_ans))\n      title &lt;- if (is_correct) \"Correct!\" else \"Try Again!\"\n      msg &lt;- if (is_correct) feedback_right else feedback_wrong\n      \n      showModal(modalDialog(\n        title = span(icon(if (is_correct) \"check-circle\" else \"times-circle\"), \" \", title),\n        p(msg),\n        footer = tagList(\n          actionButton(ns(\"retry\"), \"Retry\", class = \"btn btn-warning\"),\n          actionButton(ns(\"continue\"), \"Continue\", class = \"btn btn-success\")\n        ),\n        easyClose = FALSE\n      ))\n    })\n    \n    observeEvent(input$retry, {\n      removeModal()\n      qn_idx &lt;- shuffled_questions()[current_index()]\n      input_id &lt;- paste0(\"q\", qn_idx)\n      user_answers[[input_id]] &lt;- NULL\n    })\n    \n    observeEvent(input$continue, {\n      removeModal()\n      if (current_index() &lt; nrow(questions_df)) {\n        current_index(current_index() + 1)\n      }\n    })\n  })\n}\n\nquestions_df &lt;-\n  structure(list(question = c(\"What hormone is primarily suppressed by light at night?\",\n\"Which color of light most strongly affects circadian rhythms?\",\n\"What organ detects light for circadian regulation?\", \"Can light exposure during the evening delay sleep?\",\n\"Which cells in the eye are key for nonvisual light detection?\",\n\"Which of the following are nonvisual effects of light?\", \"Which wavelengths are most effective for melatonin suppression?\"\n), options = c(\"Melatonin;Cortisol;Serotonin\", \"Blue;Green;Red\",\n\"Brain;Eye;Skin\", \"Yes;No\", \"Rods;Cones;ipRGCs\", \"Alertness boost;Visual acuity;Circadian entrainment;Mood improvement\",\n\"Blue;Green;Red;UV\"), correct = c(\"Melatonin\", \"Blue\", \"Eye\",\n\"Yes\", \"ipRGCs\", \"Alertness boost;Circadian entrainment;Mood improvement\",\n\"Blue;Green\"), feedback_correct = c(\"Great job! Light at night inhibits melatonin.\",\n\"Right! Blue light is most potent for the circadian system.\",\n\"Yes! The eye detects light for circadian timing.\", \"Correct! Evening light can shift your sleep later.\",\n\"Yes! ipRGCs regulate the circadian system.\", \"Well done! Light affects circadian rhythms, mood, and alertness.\",\n\"Correct! Blue and green light most strongly suppress melatonin.\"\n), feedback_wrong = c(\"Oops! Light mostly suppresses melatonin.\",\n\"Not quite. Blue light has the strongest circadian effect.\",\n\"Nope. It's the eye that senses light, not the brain directly.\",\n\"Incorrect. Light at night delays the sleep cycle.\", \"Nope. ipRGCs are the key players here.\",\n\"Only some of those are nonvisual effects. Try again!\", \"That's not quite right. Focus on blue and green wavelengths.\"\n)), class = c(\"tbl_df\", \"tbl\", \"data.frame\"), row.names = c(NA,\n-7L))\n\n# questions_df &lt;- read_excel(\"www/quiz_questions.xlsx\", col_types = rep(\"text\", 5))\n# colnames(questions_df) &lt;- c(\"question\", \"options\", \"correct\", \"feedback_correct\", \"feedback_wrong\")\n\nui &lt;- fluidPage(\n  theme = bs_theme(bootswatch = \"minty\"),\n  titlePanel(\"Light and Human Biology Quiz\"),\n  quizUI(\"quiz1\")\n)\n\nserver &lt;- function(input, output, session) {\n  quizServer(\"quiz1\", questions_df)\n}\n\nshinyApp(ui, server)"
  },
  {
    "objectID": "Index2.html#quiz-on-the-non-visual-effect-of-light",
    "href": "Index2.html#quiz-on-the-non-visual-effect-of-light",
    "title": "Quarto Website Template",
    "section": "",
    "text": "#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 400\n# app.R\nlibrary(shiny)\nlibrary(readxl)\nlibrary(bslib)\n\nshinylive::\n\nquizUI &lt;- function(id) {\n  ns &lt;- NS(id)\n  tagList(\n    uiOutput(ns(\"quiz_page\")),\n    br(),\n    fluidRow(\n      column(4, actionButton(ns(\"prev_btn\"), \"Previous\", class = \"btn btn-secondary\")),\n      column(4, align = \"center\", actionButton(ns(\"submit\"), \"Submit\", class = \"btn btn-primary\")),\n      column(4, align = \"right\", actionButton(ns(\"next_btn\"), \"Next\", class = \"btn btn-secondary\"))\n    ),\n    tags$style(HTML(\"\n      .btn { margin-top: 10px; width: 100px; }\n      .shiny-modal .modal-content { border-radius: 10px; }\n      .modal-header { background-color: #f0f8ff; }\n    \"))\n  )\n}\n\nquizServer &lt;- function(id, questions_df) {\n  moduleServer(id, function(input, output, session) {\n    ns &lt;- session$ns\n    \n    shuffled_questions &lt;- reactiveVal(sample(1:nrow(questions_df)))\n    current_index &lt;- reactiveVal(0)\n    user_answers &lt;- reactiveValues()\n    \n    observeEvent(input$next_btn, {\n      if (current_index() &lt; nrow(questions_df)) {\n        current_index(current_index() + 1)\n      }\n    })\n    \n    observeEvent(input$prev_btn, {\n      if (current_index() &gt; 0) {\n        current_index(current_index() - 1)\n      }\n    })\n    \n    output$quiz_page &lt;- renderUI({\n      idx &lt;- current_index()\n      \n      if (idx == 0) {\n        return(\n          tagList(\n            h2(\"Welcome to the Light and Health Quiz!\"),\n            p(\"This quiz tests your knowledge about the nonvisual effects of ocular light.\"),\n            p(\"Use the 'Previous' and 'Next' buttons to navigate.\"),\n            p(\"Choose an answer and click 'Submit' to check.\"),\n            p(\"Good luck!\")\n          )\n        )\n      }\n      \n      if (idx &gt; length(shuffled_questions())) {\n        return(\n          tagList(\n            h2(\"Quiz Complete!\"),\n            p(\"Well done! You've answered all the questions.\"),\n            icon(\"trophy\", class = \"fa-3x text-success\")\n          )\n        )\n      }\n      \n      qn_idx &lt;- shuffled_questions()[idx]\n      question &lt;- questions_df[qn_idx, ]\n      input_id &lt;- paste0(\"q\", qn_idx)\n      correct_ans &lt;- unlist(strsplit(question$correct, \";\"))\n      options &lt;- unlist(strsplit(question$options, \";\"))\n      is_multi &lt;- length(correct_ans) &gt; 1\n      \n      ans_ui &lt;- if (is_multi) {\n        checkboxGroupInput(ns(input_id), label = question$question, choices = options, selected = user_answers[[input_id]])\n      } else {\n        radioButtons(ns(input_id), label = question$question, choices = options, selected = user_answers[[input_id]])\n      }\n      \n      tagList(ans_ui)\n    })\n    \n    observeEvent(input$submit, {\n      idx &lt;- current_index()\n      if (idx == 0 || idx &gt; length(shuffled_questions())) return()\n      \n      qn_idx &lt;- shuffled_questions()[idx]\n      input_id &lt;- paste0(\"q\", qn_idx)\n      user_input &lt;- input[[input_id]]\n      user_answers[[input_id]] &lt;- user_input\n      \n      correct_ans &lt;- unlist(strsplit(questions_df[qn_idx, ]$correct, \";\"))\n      feedback_right &lt;- questions_df[qn_idx, ]$feedback_correct\n      feedback_wrong &lt;- questions_df[qn_idx, ]$feedback_wrong\n      \n      is_correct &lt;- setequal(sort(user_input), sort(correct_ans))\n      title &lt;- if (is_correct) \"Correct!\" else \"Try Again!\"\n      msg &lt;- if (is_correct) feedback_right else feedback_wrong\n      \n      showModal(modalDialog(\n        title = span(icon(if (is_correct) \"check-circle\" else \"times-circle\"), \" \", title),\n        p(msg),\n        footer = tagList(\n          actionButton(ns(\"retry\"), \"Retry\", class = \"btn btn-warning\"),\n          actionButton(ns(\"continue\"), \"Continue\", class = \"btn btn-success\")\n        ),\n        easyClose = FALSE\n      ))\n    })\n    \n    observeEvent(input$retry, {\n      removeModal()\n      qn_idx &lt;- shuffled_questions()[current_index()]\n      input_id &lt;- paste0(\"q\", qn_idx)\n      user_answers[[input_id]] &lt;- NULL\n    })\n    \n    observeEvent(input$continue, {\n      removeModal()\n      if (current_index() &lt; nrow(questions_df)) {\n        current_index(current_index() + 1)\n      }\n    })\n  })\n}\n\nquestions_df &lt;-\n  structure(list(question = c(\"What hormone is primarily suppressed by light at night?\",\n\"Which color of light most strongly affects circadian rhythms?\",\n\"What organ detects light for circadian regulation?\", \"Can light exposure during the evening delay sleep?\",\n\"Which cells in the eye are key for nonvisual light detection?\",\n\"Which of the following are nonvisual effects of light?\", \"Which wavelengths are most effective for melatonin suppression?\"\n), options = c(\"Melatonin;Cortisol;Serotonin\", \"Blue;Green;Red\",\n\"Brain;Eye;Skin\", \"Yes;No\", \"Rods;Cones;ipRGCs\", \"Alertness boost;Visual acuity;Circadian entrainment;Mood improvement\",\n\"Blue;Green;Red;UV\"), correct = c(\"Melatonin\", \"Blue\", \"Eye\",\n\"Yes\", \"ipRGCs\", \"Alertness boost;Circadian entrainment;Mood improvement\",\n\"Blue;Green\"), feedback_correct = c(\"Great job! Light at night inhibits melatonin.\",\n\"Right! Blue light is most potent for the circadian system.\",\n\"Yes! The eye detects light for circadian timing.\", \"Correct! Evening light can shift your sleep later.\",\n\"Yes! ipRGCs regulate the circadian system.\", \"Well done! Light affects circadian rhythms, mood, and alertness.\",\n\"Correct! Blue and green light most strongly suppress melatonin.\"\n), feedback_wrong = c(\"Oops! Light mostly suppresses melatonin.\",\n\"Not quite. Blue light has the strongest circadian effect.\",\n\"Nope. It's the eye that senses light, not the brain directly.\",\n\"Incorrect. Light at night delays the sleep cycle.\", \"Nope. ipRGCs are the key players here.\",\n\"Only some of those are nonvisual effects. Try again!\", \"That's not quite right. Focus on blue and green wavelengths.\"\n)), class = c(\"tbl_df\", \"tbl\", \"data.frame\"), row.names = c(NA,\n-7L))\n\n# questions_df &lt;- read_excel(\"www/quiz_questions.xlsx\", col_types = rep(\"text\", 5))\n# colnames(questions_df) &lt;- c(\"question\", \"options\", \"correct\", \"feedback_correct\", \"feedback_wrong\")\n\nui &lt;- fluidPage(\n  theme = bs_theme(bootswatch = \"minty\"),\n  titlePanel(\"Light and Human Biology Quiz\"),\n  quizUI(\"quiz1\")\n)\n\nserver &lt;- function(input, output, session) {\n  quizServer(\"quiz1\", questions_df)\n}\n\nshinyApp(ui, server)"
  }
]